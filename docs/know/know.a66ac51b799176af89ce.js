(()=>{"use strict";(()=>{function t(t){var e=document.createElement("div");e.innerHTML=t;var l="";for(let t=0;t<e.childNodes[0].content.children.length;t++)l+=e.childNodes[0].content.children[t].outerHTML;return l}const e=[{id:1,article:t('<template> <h3 class="title" data-id="1">如何看待知乎上的男拳</h3> <article class="text1"> 1我看女拳的时候感觉她们不是女的 我看男拳的时候也不觉得他们是男的 疯了 全都疯了 </article> </template>')},{id:2,article:t('<template> <h3 class="title" data-id="2">如何看待知乎上的男拳</h3> <article class="text1"> 2我看女拳的时候感觉她们不是女的 我看男拳的时候也不觉得他们是男的 疯了 全都疯了 老实人在中间说一句话立马被揍得东倒西歪 满地找牙关键老实人还不知道做错了啥 明明本来是希望共同进步的 怎么打来打去跟疯狗一样 男拳试图以道理服人 女拳试图以感情服人 我真的恶心透了微博 这下知乎也不能呆了 我服了 有什么大病资本主义的狗快滚出中国 滚出中国 滚出中国 </article> </template>')},{id:3,article:t('<template> <h3 class="title" data-id="3">如何看待知乎上的男拳</h3> <article class="text1"> 3我看女拳的时候感觉她们不是女的 我看男拳的时候也不觉得他们是男的 疯了 全都疯了 老实人在中间说一句话立马被揍得东倒西歪 满地找牙关键老实人还不知道做错了啥 明明本来是希望共同进步的 怎么打来打去跟疯狗一样 男拳试图以道理服人 女拳试图以感情服人 我真的恶心透了微博 这下知乎也不能呆了 我服了 有什么大病资本主义的狗快滚出中国 滚出中国 滚出中国 </article> </template>')},{id:4,article:t('<template> <h3 class="title" data-id="4">如何看待知乎上的男拳</h3> <article class="text1"> 4我看女拳的时候感觉她们不是女的 我看男拳的时候也不觉得他们是男的 疯了 全都疯了 老实人在中间说一句话立马被揍得东倒西歪 满地找牙关键老实人还不知道做错了啥 明明本来是希望共同进步的 怎么打来打去跟疯狗一样 男拳试图以道理服人 女拳试图以感情服人 我真的恶心透了微博 这下知乎也不能呆了 我服了 有什么大病资本主义的狗快滚出中国 滚出中国 滚出中国 </article> </template>')},{id:5,article:t('<template> <h3 class="title" data-id="5">如何看待知乎上的男拳</h3> <article class="text1"> 5我看女拳的时候感觉她们不是女的 我看男拳的时候也不觉得他们是男的 疯了 全都疯了 老实人在中间说一句话立马被揍得东倒西歪 满地找牙关键老实人还不知道做错了啥 明明本来是希望共同进步的 怎么打来打去跟疯狗一样 男拳试图以道理服人 女拳试图以感情服人 我真的恶心透了微博 这下知乎也不能呆了 我服了 有什么大病资本主义的狗快滚出中国 滚出中国 滚出中国 </article> </template>')}];class l{constructor(t){this.el=t.el,this.text=this.el.innerHTML,this.textCount=t.textCount,this.findAllButtonText=t.findAllButtonText||"查看全部",this.ellipsisButtonText=t.ellipsisButtonText||"收起",this.showFindAllButton=t.showFindAllButton||!1,this.flag=!0}get buttonText(){return this.flag?this.findAllButtonText:this.ellipsisButtonText}exec(){if(!this.text)throw Error("文本不能为空");this.el.innerHTML=this.format(this.text,this.textCount),this.el.innerHTML.length<this.textCount?this.showFindAllButton=!1:this.showFindAllButton=!0,this.showFindAllButton&&this.addButton()}addButton(){var t=document.createElement("a");t.textContent=this.findAllButtonText;var e=this;t.addEventListener("click",(function(){e.flag=!e.flag,this.textContent=e.buttonText,e.el.childNodes[0].textContent=e.flag?e.format(e.text,e.textCount):e.text})),this.el.appendChild(t,this.el.childNodes[0])}format(t,e){return t.length<e?t:t.substring(0,e)+"..."}}String.prototype.ellipsis=function(t){var e=this.substr(0);return e.length>t&&(e=e.substr(0,t-3),e+="..."),e};var i=document.querySelector(".conversation");i.remove();var n=document.createDocumentFragment();e.forEach((t=>{var e=i.cloneNode(!0);e.querySelector(".wenzi").innerHTML=t.article,n.appendChild(e)})),document.querySelector(".subject").appendChild(n),document.querySelectorAll(".text1").forEach(((t,e)=>{new l({el:t,textCount:100,findAllButtonText:"查看所有",showFindAllButton:!0}).exec()})),document.querySelectorAll(".title").forEach((t=>{t.addEventListener("click",(function(){window.location.href="detail.html?id="+this.dataset.id}))}))})()})();